<!DOCTYPE html>
<html lang="ko">

<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>룰렛 연습</title>
 <link rel="stylesheet" href="./css/03_roulette.css">
</head>

<body>
 <div id="wrap">

  <div class="btnContainer">
   <button class="onOff"></button>
   <button class="auto"></button>
  </div>
  <div class="rouletteContainer">
   <div class="roulette_yellow ">
    <div class="shadow"></div>
    <div class="roulette">
     <p>우주</p>
     <p>길거리</p>
     <p>바다</p>
     <p>운동장</p>
     <p>놀이터</p>
     <input type="text" placeholder="직접 입력">
     <input type="text" placeholder="직접 입력">
     <input type="text" placeholder="직접 입력">
     <input type="text" placeholder="직접 입력">
     <input type="text" placeholder="직접 입력">
    </div>
   </div>
   <div class="roulette_green">
    <div class="shadow"></div>
    <div class="roulette">
     <p>가위</p>
     <p>우산</p>
     <p>줄자</p>
     <p>시계</p>
     <p>신발</p>
     <p>컵</p>
     <!-- <input type="text">
     <input type="text">
     <input type="text">
     <input type="text"> -->
    </div>
   </div>
   <div class="roulette_blue">
    <div class="shadow"></div>
    <div class="roulette">
     <p>확대 <br> 축소</p>
     <p>용도 <br> 바꾸기 </p>
     <p>재료 <br> 바꾸기 </p>
     <p>더하기 </p>
     <p>빼기</p>

    </div>
   </div>
  </div>
 </div>
 <script type="text/javascript">
  const ROULETTES = document.querySelectorAll('.rouletteContainer .roulette');
  const btns = document.querySelectorAll('.btnContainer > button');

  // 속도 바꾸고 랜덤으로 할 떄 쓰자 
  let randomNumbers = [];
  for (let i = 0; i < 3; i++) {
   let randomNum = (Math.random()).toFixed(2);
   randomNumbers.push(parseFloat(randomNum));
  };
  console.log(randomNumbers);
  // 
  btns.forEach(function (btn) {
   btn.addEventListener("click", function () {
    if (!this.classList.contains('done')) {
     this.classList.add("done");

     ROULETTES[0].style.animation = `spin ${randomNumbers[0] + "s"} linear infinite`;
     ROULETTES[1].style.animation = `spin ${randomNumbers[1] + "s"} linear infinite`;
     ROULETTES[2].style.animation = `spin ${randomNumbers[2] + "s"} linear infinite`;
     start();

     if (this.classList.contains('auto')) {
      this.classList.add("pointN");

      setTimeout(() => {
       this.classList.remove("pointN", "done");
       stop()

      }, 3000);
     }

    } else {
     this.classList.remove("done");
     stop();
    };
   });
  });



  function start() {
   ROULETTES.forEach(roulette => {
    roulette.style.animationPlayState = "running";
   });
  }
  function stop() {
   ROULETTES.forEach(roulette => {
    roulette.style.animationPlayState = "paused";
   });
  }
 </script>
</body>

</html>